clc; 


I_left = imread('testSquare.png');
I_right = imread('testSquare.png');

cameraParameters1 = [1520.400000 0.000000 302.320000 0.000000 1525.900000 246.870000 0.000000 0.000000 1.000000 0.02187598221295043000 0.98329680886213122000 -0.18068986436368856000 0.99856708067455469000 -0.01266114646423925600 0.05199500709979997700 0.04883878372068499500 -0.18156839221560722000 -0.98216479887691122000 -0.0726637729648 0.0223360353405 0.614604845959 0 0 0 0 0];
cameraParameters2 = [1520.400000 0.000000 302.320000 0.000000 1525.900000 246.870000 0.000000 0.000000 1.000000 -0.03472199972816788400 0.98429285136236500000 -0.17309524976677537000 0.93942192751145170000 -0.02695166652093134900 -0.34170169707277304000 -0.34099974317519038000 -0.17447403941185566000 -0.92373047190496216000 -0.0746307029819 0.0338148092011 0.600850565131 0 0 0 0 0];
R1 = [0.02187598221295043000 0.98329680886213122000 -0.18068986436368856000;
    0.99856708067455469000 -0.01266114646423925600 0.05199500709979997700;
    0.04883878372068499500 -0.18156839221560722000 -0.98216479887691122000];
R2 = [-0.03472199972816788400 0.98429285136236500000 -0.17309524976677537000;
    0.93942192751145170000 -0.02695166652093134900 -0.34170169707277304000;
    -0.34099974317519038000 -0.17447403941185566000 -0.92373047190496216000];
rotationOfCamera2 = R2*R1';
t1 = [-0.0726637729648; 0.0223360353405; 0.614604845959];
t2 = [-0.0746307029819; 0.0338148092011; 0.600850565131];
translationOfCamera2 = -R2' * t2 + R1' * t1;

stereoParams = stereoParameters(cameraParameters1,cameraParameters2,rotationOfCamera2,translationOfCamera2);

[J1, J2] = rectifyStereoImages(I_left, I_right, stereoParams)
